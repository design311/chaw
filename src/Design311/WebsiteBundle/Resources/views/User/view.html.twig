{% extends 'Design311WebsiteBundle::layout.html.twig' %}

{% block bodyclass %}profile-view{% endblock %}

{% block content %}

<div id="map" class="map"></div>

<div class="container content">

	<img src="{{ asset(user.avatar) | apply_filter('avatar') }}" alt="Avatar {{user.displayname}}" class="avatar">
	<h1>{{user.displayName}}</h1>
	<p>{{user.description}}</p>

	<ul class="user-social">
		{% if user.website is not null %}
		<li><a href="{{user.website}}" target="_blank"><i class="sprite medium website"></i></a></li>
		{% endif %}
		{% if user.facebook is not null %}
		<li><a href="{{user.facebook}}" target="_blank"><i class="sprite medium facebook"></i></a></li>
		{% endif %}
		{% if user.twitter is not null %}
		<li><a href="{{user.twitter}}" target="_blank"><i class="sprite medium twitter"></i></a></li>
		{% endif %}
		{% if user.googleplus is not null %}
		<li><a href="{{user.googleplus}}" target="_blank"><i class="sprite medium googleplus"></i></a></li>
		{% endif %}
	</ul>

</div>

{% endblock %}

{% block footer %}
    <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script>
    	$(function(){
    		var map;

			var userCoords = new google.maps.LatLng({{location.lat}}, {{location.lng}});

			map = new google.maps.Map(document.getElementById('map'), {
				mapTypeId: google.maps.MapTypeId.ROADMAP,
				streetViewControl: false,
				mapTypeControl: false,
				scrollwheel: false,
				zoom:14,
				center:userCoords
			});
    	})
    </script>
{% endblock %}